from collections import Counter

# Modelo do método que deve ser implementado
def recomendacao(user, G):

  """Retorna a lista de filmes recomendados dado um usuário e um grafo representativo da base

    Keyword arguments:
    user -- usuário
    id_movie -- Grafo na estrutura do NetworkX
    
    """
  vizinhos = list(G.adj[user])
  lista_filmes = []
  for vizinho in vizinhos:
    id = int(vizinho.split('User')[1])   
    filmes = get_movies_by_user(id, rating_cut=5, list_=True)
    lista_filmes = lista_filmes + filmes
  
  c = Counter(lista_filmes)
  list_of_movies_recommended = c.most_common()[:5]
  list_of_movies_recommended = [x[0] for x in list_of_movies_recommended]
  list_of_movies_recommended = [movies.iloc[x]['title'] for x in list_of_movies_recommended]

  return list_of_movies_recommended

recomendacao('User3',G)
